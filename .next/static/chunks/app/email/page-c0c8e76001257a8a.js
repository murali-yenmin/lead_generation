(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4469],{4735:(e,t,a)=>{Promise.resolve().then(a.bind(a,58554))},16923:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},17759:(e,t,a)=>{"use strict";a.d(t,{C5:()=>j,MJ:()=>f,Rr:()=>y,eI:()=>h,lR:()=>x,lV:()=>d,zB:()=>p});var r=a(95155),s=a(12115),n=a(99708),l=a(62177),i=a(59434),o=a(85057);let d=l.Op,c=s.createContext({}),p=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(l.xI,{...t})})},m=()=>{let e=s.useContext(c),t=s.useContext(u),{getFieldState:a,formState:r}=(0,l.xW)(),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},u=s.createContext({}),h=s.forwardRef((e,t)=>{let{className:a,...n}=e,l=s.useId();return(0,r.jsx)(u.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",a),...n})})});h.displayName="FormItem";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:n,formItemId:l}=m();return(0,r.jsx)(o.J,{ref:t,className:(0,i.cn)(n&&"text-destructive",a),htmlFor:l,...s})});x.displayName="FormLabel";let f=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:l,formDescriptionId:i,formMessageId:o}=m();return(0,r.jsx)(n.DX,{ref:t,id:l,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...a})});f.displayName="FormControl";let y=s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:n}=m();return(0,r.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});y.displayName="FormDescription";let j=s.forwardRef((e,t)=>{var a;let{className:s,children:n,...l}=e,{error:o,formMessageId:d}=m(),c=o?String(null!=(a=null==o?void 0:o.message)?a:""):n;return c?(0,r.jsx)("p",{ref:t,id:d,className:(0,i.cn)("text-sm font-medium text-destructive",s),...l,children:c}):null});j.displayName="FormMessage"},19637:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},22346:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});var r=a(95155),s=a(12115),n=a(87489),l=a(59434);let i=s.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:i=!0,...o}=e;return(0,r.jsx)(n.b,{ref:t,decorative:i,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...o})});i.displayName=n.b.displayName},26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var r=a(95155);a(12115);var s=a(74466),n=a(59434);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:a}),t),...s})}},54165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,Es:()=>h,L3:()=>x,c7:()=>u,lG:()=>o,rr:()=>f,zM:()=>d});var r=a(95155),s=a(12115),n=a(15452),l=a(25318),i=a(59434);let o=n.bL,d=n.l9,c=n.ZL;n.bm;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});p.displayName=n.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(p,{}),(0,r.jsxs)(n.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.UC.displayName;let u=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};u.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});x.displayName=n.hE.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});f.displayName=n.VY.displayName},58554:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var r=a(95155),s=a(12115),n=a(62177),l=a(90221),i=a(70927),o=a(30285),d=a(66695),c=a(62523),p=a(85057),m=a(87481),u=a(16923),h=a(25318),x=a(73503),f=a(50172),y=a(19637),j=a(40157);let v=(0,j.A)("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]),g=(0,j.A)("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),b=(0,j.A)("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),N=(0,j.A)("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),k=(0,j.A)("Heading4",[["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v3a1 1 0 0 0 1 1h3",key:"tj5zdr"}],["path",{d:"M21 10v8",key:"1kdml4"}],["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}]]),w=(0,j.A)("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]),C=(0,j.A)("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]),M=(0,j.A)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),R=(0,j.A)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),z=(0,j.A)("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),A=(0,j.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),S=(0,j.A)("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);var E=a(17832);let V=(0,j.A)("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);var q=a(73672),L=a(26126),F=a(66424),I=a(22346),T=a(34477);let H=(0,T.createServerReference)("40d88a6cca216d2f77e6e4484c74ccd189734c333c",T.callServer,void 0,T.findSourceMapURL,"generateEmailContent");var B=a(54165),O=a(88539),P=a(59409),U=a(59434),Y=a(17759),J=a(80722);async function $(e){try{var t;console.log(e,"input ====");let a=await J.A.post("/api/n8n/emailSender",e);return{success:!0,messageId:(null==a||null==(t=a.data)?void 0:t.messageId)||""}}catch(e){throw console.error("Error calling n8n email webhook:",e),e}}let D=e=>{let{id:t,label:a,placeholder:n,recipients:l,onRecipientsChange:i,allowCsvUpload:d=!1,error:x}=e,[f,y]=(0,s.useState)(""),j=(0,s.useRef)(null),{toast:v}=(0,m.dj)(),g=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),b=()=>{let e=f.trim();e&&!l.includes(e)&&(g(e)?(i([...l,e]),y("")):v({variant:"destructive",title:"Invalid Email",description:'"'.concat(e,'" is not a valid email address.')}))},N=e=>{i(l.filter((t,a)=>a!==e))};return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p.J,{htmlFor:t,className:(0,U.cn)(x&&"text-destructive"),children:a}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.p,{id:t,type:"email",placeholder:n,value:f,onChange:e=>{y(e.target.value)},onKeyDown:e=>{("Enter"===e.key||","===e.key)&&(e.preventDefault(),b())},onBlur:b,className:(0,U.cn)(x&&"border-destructive")}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.$,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=j.current)?void 0:e.click()},children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Upload CSV"]}),(0,r.jsx)("input",{type:"file",ref:j,className:"sr-only",accept:".csv",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r&&"text/csv"===r.type){let e=new FileReader;e.onload=e=>{var t;let r=(null==(t=e.target)?void 0:t.result).split("\n").filter(e=>""!==e.trim()).flatMap(e=>e.split(",").map(e=>e.trim()).filter(Boolean)),s=r.filter(g),n=r.filter(e=>!g(e)),o=s.filter(e=>!l.includes(e));i([...l,...o]),n.length>0&&v({variant:"warning",title:"Some emails were invalid",description:"Could not import: ".concat(n.join(", "))}),o.length>0?v({variant:"success",title:"Import Successful",description:"".concat(o.length," new email(s) added to ").concat(a,".")}):v({variant:"info",title:"No new emails",description:"All emails from the file were already in the list or invalid."})},e.readAsText(r)}else v({variant:"destructive",title:"Invalid File Type",description:"Please upload a .csv file."});j.current&&(j.current.value="")}})]})]}),x&&(0,r.jsx)("p",{className:"text-sm font-medium text-destructive",children:x}),l.length>0&&(0,r.jsx)(F.F,{className:"h-20 w-full rounded-md border",children:(0,r.jsx)("div",{className:"p-2 space-x-1 space-y-1",children:l.map((e,t)=>(0,r.jsxs)(L.E,{variant:"secondary",className:"text-sm font-normal gap-1 pl-2 pr-1",children:[e,(0,r.jsxs)("button",{onClick:()=>N(t),className:"rounded-full hover:bg-background/50 p-0.5",children:[(0,r.jsx)(h.A,{className:"size-3"}),(0,r.jsxs)("span",{className:"sr-only",children:["Remove ",e]})]})]},t))})})]})]})};function G(e){let{open:t,onOpenChange:a,onGenerate:n,isGenerating:l}=e,[i,d]=(0,s.useState)(""),c=async()=>{await n(i),a(!1),d("")};return(0,r.jsx)(B.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(B.Cf,{children:[(0,r.jsxs)(B.c7,{children:[(0,r.jsxs)(B.L3,{className:"flex items-center gap-2",children:[(0,r.jsx)(x.A,{className:"size-5"})," AI Email Generator"]}),(0,r.jsx)(B.rr,{children:"Describe the email you want."})]}),(0,r.jsx)("div",{className:"py-4",children:(0,r.jsx)(O.T,{id:"ai-prompt-dialog",placeholder:"e.g., 'An email to our beta users announcing a new feature that allows them to export their data. The tone should be excited and thankful.'",className:"min-h-[150px] resize-none",value:i,onChange:e=>d(e.target.value),disabled:l})}),(0,r.jsxs)(B.Es,{children:[(0,r.jsx)(o.$,{variant:"ghost",onClick:()=>a(!1),disabled:l,children:"Cancel"}),(0,r.jsxs)(o.$,{onClick:c,disabled:l||!i.trim(),children:[l&&(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),l?"Generating...":"Generate Email"]})]})]})})}let Z=i.Ik({toRecipients:i.YO(i.Yj().email()).min(1,{message:"Please add at least one recipient."}),ccRecipients:i.YO(i.Yj().email()).optional(),bccRecipients:i.YO(i.Yj().email()).optional(),replyToRecipients:i.YO(i.Yj().email()).optional(),subject:i.Yj().min(1,{message:"Subject is required."}),senderName:i.Yj().optional(),replyToSenderOnly:i.zM().optional(),attachments:i.bz().optional(),emailContent:i.Yj().min(1,{message:"Email content cannot be empty."})});function _(){let[e,t]=(0,s.useState)([]),a=(0,s.useRef)(null),{toast:i}=(0,m.dj)(),[,u]=(0,s.useReducer)(e=>e+1,0),[x,j]=(0,s.useState)(!1),[L,F]=(0,s.useState)(!1),[T,B]=(0,s.useState)(!1),[O,J]=(0,s.useState)(!1),_=(0,n.mN)({resolver:(0,l.u)(Z),mode:"onChange",defaultValues:{toRecipients:[],ccRecipients:[],bccRecipients:[],replyToRecipients:[],subject:"",senderName:"",replyToSenderOnly:!1,emailContent:""}}),W=(0,s.useRef)(null),[K,X]=(0,s.useState)("p"),Q=e=>{let t=e.currentTarget.innerHTML;_.setValue("emailContent","<p><br></p>"===t||"<br>"===t?"":t,{shouldValidate:!0}),B(!0)},ee=(e,t)=>{if(document.execCommand(e,!1,t),a.current){a.current.focus();let e=new Event("input",{bubbles:!0});a.current.dispatchEvent(e),u()}},et=e=>{if(document.queryCommandState)try{return document.queryCommandState(e)}catch(e){}return!1},ea=()=>{if(document){let e=document.queryCommandValue("formatBlock").toLowerCase();["h1","h2","h3","h4","h5","h6","p"].includes(e)?X(e):X("p")}};(0,s.useEffect)(()=>{if(!a.current)return;let e=()=>{ea(),u()};return document.addEventListener("selectionchange",e),()=>{document.removeEventListener("selectionchange",e)}},[]);let er=async e=>{J(!0);try{let t=await $(e);console.log(t,"result"),t&&i({variant:"success",title:"Email Sent!",description:"Your email has been successfully sent."}),J(!1)}catch(e){console.error("Error generating post:",e),i({variant:"destructive",title:"An error occurred",description:"Failed to generate post. Please try again."}),J(!1)}},es=async e=>{if(!e.trim())return void i({variant:"destructive",title:"Empty Prompt",description:"Please provide a prompt for the AI to generate an email."});j(!0);try{let t=await H({prompt:e});_.setValue("emailContent",t.emailContent,{shouldValidate:!0}),a.current&&(a.current.innerHTML=t.emailContent),B(!1),i({variant:"success",title:"Email Content Generated",description:"The AI has drafted an email for you."})}catch(e){console.error("Error generating email:",e),i({variant:"destructive",title:"Generation Failed",description:"There was an error generating the email content."})}finally{j(!1)}},en=e=>{e.target.files&&t(t=>[...t,...Array.from(e.target.files)])},el=e=>{t(t=>t.filter((t,a)=>a!==e))};return _.watch("emailContent"),(0,r.jsxs)("main",{className:"flex flex-1 flex-col gap-6 p-4 sm:px-6 md:gap-8 md:p-8",children:[(0,r.jsx)(Y.lV,{..._,children:(0,r.jsx)("form",{onSubmit:_.handleSubmit(er),children:(0,r.jsxs)(d.Zp,{children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsxs)(d.ZB,{className:"flex items-center gap-2 text-2xl font-headline",children:[(0,r.jsx)(y.A,{className:"size-8"}),"Email Composer"]}),(0,r.jsx)(d.BT,{children:"Craft and send emails to your audience. Use the AI generator or write your own."})]}),(0,r.jsx)(d.Wu,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(Y.zB,{control:_.control,name:"toRecipients",render:e=>{var t;let{field:a,fieldState:s}=e;return(0,r.jsx)(D,{id:"to-recipients",label:"To",placeholder:"Add 'To' recipients...",recipients:a.value||[],onRecipientsChange:a.onChange,allowCsvUpload:!0,error:null==(t=s.error)?void 0:t.message})}}),(0,r.jsx)(Y.zB,{control:_.control,name:"subject",render:e=>{let{field:t}=e;return(0,r.jsxs)(Y.eI,{children:[(0,r.jsx)(Y.lR,{children:"Subject"}),(0,r.jsx)(Y.MJ,{children:(0,r.jsx)(c.p,{id:"subject",placeholder:"Your email subject",...t})}),(0,r.jsx)(Y.C5,{})]})}}),(0,r.jsx)(Y.zB,{control:_.control,name:"ccRecipients",render:e=>{let{field:t}=e;return(0,r.jsx)(D,{id:"cc-recipients",label:"CC",placeholder:"Add 'CC' recipients...",recipients:t.value||[],onRecipientsChange:t.onChange})}}),(0,r.jsx)(Y.zB,{control:_.control,name:"bccRecipients",render:e=>{let{field:t}=e;return(0,r.jsx)(D,{id:"bcc-recipients",label:"BCC",placeholder:"Add 'BCC' recipients...",recipients:t.value||[],onRecipientsChange:t.onChange})}}),(0,r.jsx)(Y.zB,{control:_.control,name:"senderName",render:e=>{let{field:t}=e;return(0,r.jsxs)(Y.eI,{children:[(0,r.jsx)(Y.lR,{children:"Sender Name (Optional)"}),(0,r.jsx)(Y.MJ,{children:(0,r.jsx)(c.p,{id:"sender-name",placeholder:"e.g., John Doe",...t})}),(0,r.jsx)(Y.C5,{})]})}}),(0,r.jsx)(Y.zB,{control:_.control,name:"replyToRecipients",render:e=>{let{field:t}=e;return(0,r.jsx)(D,{id:"reply-to-recipients",label:"Send Replies To (Optional)",placeholder:"Add reply-to addresses...",recipients:t.value||[],onRecipientsChange:t.onChange})}})]}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsx)(Y.zB,{control:_.control,name:"emailContent",render:t=>{let{field:s,fieldState:n}=t;return(0,r.jsxs)(Y.eI,{children:[(0,r.jsx)(Y.lR,{children:"Email Content"}),(0,r.jsxs)("div",{className:(0,U.cn)("rounded-md border border-input",n.error&&"border-destructive"),children:[(0,r.jsxs)("div",{className:"p-2 flex items-center space-x-1 border-b flex-wrap",children:[(0,r.jsxs)(P.l6,{value:K,onValueChange:e=>ee("formatBlock",e),children:[(0,r.jsx)(P.bq,{className:"w-[150px]",children:(0,r.jsx)(P.yv,{placeholder:"Format"})}),(0,r.jsxs)(P.gC,{children:[(0,r.jsxs)(P.eb,{value:"p",children:[(0,r.jsx)(v,{className:"inline-block mr-2 h-4 w-4"})," ","Paragraph"]}),(0,r.jsxs)(P.eb,{value:"h1",children:[(0,r.jsx)(g,{className:"inline-block mr-2 h-4 w-4"})," ","Heading 1"]}),(0,r.jsxs)(P.eb,{value:"h2",children:[(0,r.jsx)(b,{className:"inline-block mr-2 h-4 w-4"})," ","Heading 2"]}),(0,r.jsxs)(P.eb,{value:"h3",children:[(0,r.jsx)(N,{className:"inline-block mr-2 h-4 w-4"})," ","Heading 3"]}),(0,r.jsxs)(P.eb,{value:"h4",children:[(0,r.jsx)(k,{className:"inline-block mr-2 h-4 w-4"})," ","Heading 4"]}),(0,r.jsxs)(P.eb,{value:"h5",children:[(0,r.jsx)(w,{className:"inline-block mr-2 h-4 w-4"})," ","Heading 5"]}),(0,r.jsxs)(P.eb,{value:"h6",children:[(0,r.jsx)(C,{className:"inline-block mr-2 h-4 w-4"})," ","Heading 6"]})]})]}),(0,r.jsx)(I.w,{orientation:"vertical",className:"h-6 mx-2"}),(0,r.jsx)(o.$,{type:"button",variant:et("bold")?"secondary":"ghost",size:"icon",onClick:()=>ee("bold"),children:(0,r.jsx)(M,{})}),(0,r.jsx)(o.$,{type:"button",variant:et("italic")?"secondary":"ghost",size:"icon",onClick:()=>ee("italic"),children:(0,r.jsx)(R,{})}),(0,r.jsx)(o.$,{type:"button",variant:et("underline")?"secondary":"ghost",size:"icon",onClick:()=>ee("underline"),children:(0,r.jsx)(z,{})}),(0,r.jsx)(I.w,{orientation:"vertical",className:"h-6 mx-2"}),(0,r.jsx)(o.$,{type:"button",variant:et("insertUnorderedList")?"secondary":"ghost",size:"icon",onClick:()=>ee("insertUnorderedList"),children:(0,r.jsx)(A,{})}),(0,r.jsx)(o.$,{type:"button",variant:et("insertOrderedList")?"secondary":"ghost",size:"icon",onClick:()=>ee("insertOrderedList"),children:(0,r.jsx)(S,{})}),(0,r.jsx)(I.w,{orientation:"vertical",className:"h-6 mx-2"}),(0,r.jsxs)(o.$,{type:"button",variant:"ghost",onClick:()=>F(!0),children:[(0,r.jsx)(E.A,{className:"mr-2 h-4 w-4"}),"Generate with AI"]})]}),(0,r.jsx)(Y.MJ,{children:(0,r.jsx)("div",{ref:a,id:"email-content",contentEditable:!0,onInput:Q,onFocus:()=>{ea(),B(!0)},onBlur:()=>B(!1),onKeyUp:ea,onMouseUp:ea,className:(0,U.cn)("prose dark:prose-invert prose-sm max-w-none h-[400px] overflow-y-auto w-full rounded-b-md bg-background px-4 py-3 text-base ring-offset-background focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 text-start")})}),(0,r.jsxs)("div",{className:"p-2 border-t",children:[(0,r.jsxs)(o.$,{type:"button",variant:"ghost",onClick:()=>{var e;return null==(e=W.current)?void 0:e.click()},children:[(0,r.jsx)(V,{className:"mr-2"}),"Attach Files"]}),(0,r.jsx)("input",{type:"file",multiple:!0,ref:W,className:"sr-only",onChange:en}),e.length>0&&(0,r.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,r.jsxs)(p.J,{children:["Attachments (",e.length,")"]}),(0,r.jsx)("div",{className:"space-y-1",children:e.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm p-1.5 rounded-md bg-accent/50 group",children:[(0,r.jsx)("span",{className:"truncate",children:e.name}),(0,r.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>el(t),children:(0,r.jsx)(h.A,{className:"size-3.5"})})]},t))})]})]})]}),(0,r.jsx)(Y.C5,{})]})}})})]})}),(0,r.jsx)(d.wL,{className:"justify-end",children:(0,r.jsxs)(o.$,{type:"submit",disabled:!_.formState.isValid||O,children:[O?(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(q.A,{className:"mr-2 h-4 w-4"}),O?"Sending...":"Send Email"]})})]})})}),(0,r.jsx)(G,{open:L,onOpenChange:F,onGenerate:es,isGenerating:x})]})}},59409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>m,eb:()=>f,gC:()=>x,l6:()=>c,yv:()=>p});var r=a(95155),s=a(12115),n=a(31992),l=a(79556),i=a(77381),o=a(10518),d=a(59434);let c=n.bL;n.YJ;let p=n.WT,m=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(n.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[s,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.l9.displayName;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});u.displayName=n.PP.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=n.wn.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...i}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:[(0,r.jsx)(u,{}),(0,r.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(h,{})]})})});x.displayName=n.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=n.JU.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:s})]})});f.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=n.wv.displayName},66424:(e,t,a)=>{"use strict";a.d(t,{F:()=>i});var r=a(95155),s=a(12115),n=a(47655),l=a(59434);let i=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(n.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",a),...i,children:[(0,r.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(o,{}),(0,r.jsx)(n.OK,{})]})});i.displayName=n.bL.displayName;let o=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...i}=e;return(0,r.jsx)(n.VM,{ref:t,orientation:s,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,r.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=n.VM.displayName},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>p});var r=a(95155),s=a(12115),n=a(59434);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow",a),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});p.displayName="CardFooter"},73503:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},73672:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(40157).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},80722:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(23464),s=a(81035);let n=r.A.create({baseURL:"/",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{console.log("Starting Request:",e);let t=s.M.getState().auth.token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>(console.error("Request Error:",e),Promise.reject(e))),n.interceptors.response.use(e=>(console.log("Response Successful:",e),e),e=>(console.error("Response Error:",e),e.response?(console.error("Status:",e.response.status),console.error("Data:",e.response.data)):e.request?console.error("Request:",e.request):console.error("Error Message:",e.message),Promise.reject(e)));let l=n},85057:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(95155),s=a(12115),n=a(40968),l=a(74466),i=a(59434);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,i.cn)(o(),a),...s})});d.displayName=n.b.displayName},87489:(e,t,a)=>{"use strict";a.d(t,{b:()=>d});var r=a(12115),s=a(63655),n=a(95155),l="horizontal",i=["horizontal","vertical"],o=r.forwardRef((e,t)=>{var a;let{decorative:r,orientation:o=l,...d}=e,c=(a=o,i.includes(a))?o:l;return(0,n.jsx)(s.sG.div,{"data-orientation":c,...r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:t})});o.displayName="Separator";var d=o},88539:(e,t,a)=>{"use strict";a.d(t,{T:()=>l});var r=a(95155),s=a(12115),n=a(59434);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});l.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,6663,4754,6439,2688,8034,7922,4602,4443,6002,7833,8441,1684,7358],()=>t(4735)),_N_E=e.O()}]);