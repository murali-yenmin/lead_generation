(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3345],{965:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},8793:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>P});var s=t(95155),r=t(12115),l=t(35695),i=t(34540),n=t(62177),d=t(90221),c=t(70927),o=t(66695),u=t(26126),m=t(30285),h=t(68856),p=t(17759),f=t(62523),g=t(49940),x=t(24471),y=t(63920),j=t(17607),v=t(12543),N=t(86950);let w=(0,t(40157).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var C=t(51920),A=t(50286),b=t(18271),z=t(50172),k=t(59119),S=t(28184),L=t(44159),F=t(52179),E=t(67792),U=t(91394),R=t(6874),I=t.n(R),B=t(87481);let M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").map(e=>e[0]).join("").toUpperCase()},_=c.Ik({socialMediaUrl:c.Yj().optional(),emailUrl:c.Yj().optional()}),D=e=>{let{status:a}=e,t={active:{variant:"secondary",icon:g.A,label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"},pending:{variant:"default",icon:x.A,label:"Pending",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"},deactivated:{variant:"destructive",icon:y.A,label:"Deactivated",className:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}},r=t[a]||t.pending;return(0,s.jsxs)(u.E,{variant:r.variant,className:r.className,children:[(0,s.jsx)(r.icon,{className:"mr-1.5"}),r.label]})};function T(){return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)(o.Zp,{className:"w-full",children:[(0,s.jsx)(o.aR,{children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)(h.E,{className:"size-16 rounded-lg"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.E,{className:"h-8 w-64"}),(0,s.jsx)(h.E,{className:"h-5 w-48"})]})]})}),(0,s.jsx)(o.Wu,{className:"space-y-6 pt-4",children:(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.E,{className:"h-4 w-24"}),(0,s.jsx)(h.E,{className:"h-6 w-full"})]},a))})})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsx)(h.E,{className:"h-7 w-32"}),(0,s.jsx)(h.E,{className:"h-4 w-64"})]}),(0,s.jsx)(o.Wu,{children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.E,{className:"h-4 w-40"}),(0,s.jsx)(h.E,{className:"h-10 w-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.E,{className:"h-4 w-40"}),(0,s.jsx)(h.E,{className:"h-10 w-full"})]})]})}),(0,s.jsx)(o.wL,{className:"justify-end  pt-6",children:(0,s.jsx)(h.E,{className:"h-10 w-36"})})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(h.E,{className:"h-8 w-40"})}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)(h.E,{className:"h-48 w-full"})})]})]})}function P(){let e=(0,l.useParams)().id,a=(0,l.useRouter)(),t=(0,i.wA)(),{toast:c}=(0,B.dj)(),{selectedClient:g,isLoading:x,error:y,isUpdatingSettings:R}=(0,i.d4)(e=>e.clients),{users:P,isLoading:V}=(0,i.d4)(e=>e.users),Z=(0,n.mN)({resolver:(0,d.u)(_),defaultValues:{socialMediaUrl:"",emailUrl:""}});(0,r.useEffect)(()=>{e&&(t((0,L.yU)(e)),t((0,F.rw)(e)))},[t,e]),(0,r.useEffect)(()=>{if(g){var e,a;Z.reset({socialMediaUrl:(null==(e=g.settings)?void 0:e.socialMediaUrl)||"",emailUrl:(null==(a=g.settings)?void 0:a.emailUrl)||""})}},[g,Z]);let O=async e=>{if(!g)return;let a=await t((0,L.iB)({clientId:g._id,settings:e}));L.iB.fulfilled.match(a)?c({title:"Settings Saved",description:"The client's settings have been updated successfully.",variant:"success"}):c({title:"Save Failed",description:a.payload||"An error occurred while saving settings.",variant:"destructive"})},W=(0,r.useMemo)(()=>[{accessorKey:"name",header:"User",cell:e=>{let{row:a}=e,t=a.original,r=t.image&&t.image[0]?t.image[0].url:null;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(U.eu,{children:[r&&(0,s.jsx)(U.BK,{src:r}),(0,s.jsx)(U.q5,{children:M(t.name)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:t.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:t.email})]})]})}},{accessorKey:"roleName",header:"Role",cell:e=>{let{row:a}=e;return(0,s.jsx)(u.E,{variant:"outline",children:a.original.roleName||"N/A"})}},{accessorKey:"status",header:"Status",cell:e=>{let{row:a}=e;return(0,s.jsx)(D,{status:a.original.status})}},{id:"actions",header:"",cell:e=>{let{row:a}=e;return(0,s.jsx)(m.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,s.jsxs)(I(),{href:"/users/".concat(a.original._id),children:[(0,s.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"View"]})})}}],[]);return!x&&(null==g?void 0:g._id)?y?(0,s.jsxs)("main",{className:"flex flex-1 flex-col items-center justify-center gap-4 p-4",children:[(0,s.jsxs)(o.Zp,{className:"w-full max-w-md",children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{children:"Client Not Found"})}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)("p",{className:"text-muted-foreground",children:y||"The client you are looking for does not exist."})})]}),(0,s.jsx)(m.$,{variant:"outline",asChild:!0,children:(0,s.jsxs)(I(),{href:"/clients",children:[(0,s.jsx)(v.A,{className:"mr-2"}),"Back to Client Management"]})})]}):(0,s.jsxs)("main",{className:"flex flex-1 flex-col gap-6 p-4 sm:px-6 md:gap-8 md:p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(m.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>a.back(),children:[(0,s.jsx)(v.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Back"})]}),(0,s.jsx)("h1",{className:"text-xl font-semibold",children:"Client Details"})]}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)(o.Zp,{className:"w-full",children:[(0,s.jsx)(o.aR,{children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-muted",children:(0,s.jsx)(N.A,{className:"size-10 text-muted-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(o.ZB,{className:"text-2xl font-headline flex items-center gap-3",children:[g.name,(0,s.jsx)(D,{status:g.status})]}),(0,s.jsxs)(o.BT,{children:["Client profile and information for ",g.name,"."]})]})]})}),(0,s.jsx)(o.Wu,{className:"pt-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(w,{className:"size-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Domain"}),(0,s.jsx)("p",{className:"font-semibold",children:g.domain||"N/A"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(C.A,{className:"size-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Date Joined"}),(0,s.jsx)("p",{className:"font-semibold",children:(0,S.GP)(new Date(g.createdAt),"PPP")})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(A.A,{className:"size-5 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),(0,s.jsx)("p",{className:"font-semibold",children:P.length})]})]})]})})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(b.A,{className:"size-6"}),"Settings"]}),(0,s.jsx)(o.BT,{children:"Configure organization-specific settings and links."})]}),(0,s.jsx)(p.lV,{...Z,children:(0,s.jsxs)("form",{onSubmit:Z.handleSubmit(O),children:[(0,s.jsxs)(o.Wu,{className:"space-y-4",children:[(0,s.jsx)(p.zB,{control:Z.control,name:"socialMediaUrl",render:e=>{let{field:a}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{className:"flex items-center gap-2",children:"Social Media URL"}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(f.p,{placeholder:"Enter Social Media webhook Path",...a})}),(0,s.jsx)(p.C5,{})]})}}),(0,s.jsx)(p.zB,{control:Z.control,name:"emailUrl",render:e=>{let{field:a}=e;return(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{className:"flex items-center gap-2",children:"Email URL"}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(f.p,{placeholder:"Enter Email webhook Path",...a})}),(0,s.jsx)(p.C5,{})]})}})]}),(0,s.jsx)(o.wL,{className:"justify-end  pt-6",children:(0,s.jsxs)(m.$,{type:"submit",disabled:R,children:[R&&(0,s.jsx)(z.A,{className:"mr-2 h-4 w-4 animate-spin"}),(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Save Settings"]})})]})})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{children:[(0,s.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(A.A,{className:"size-6"}),"Users in this Organization"]}),(0,s.jsxs)(o.BT,{children:["A list of all users associated with ",g.name,"."]})]}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)(E.b,{columns:W,data:P,isLoading:V,error:null,pageCount:1,currentPage:1,onPageChange:()=>{},currentLimit:P.length||10,onLimitChange:()=>{},hidePagination:!1,children:(0,s.jsx)("div",{})})})]})]})]}):(0,s.jsxs)("main",{className:"flex flex-1 flex-col gap-6 p-4 sm:px-6 md:gap-8 md:p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(m.$,{variant:"outline",size:"icon",className:"h-8 w-8",asChild:!0,children:(0,s.jsx)(I(),{href:"/clients",children:(0,s.jsx)(v.A,{className:"h-4 w-4"})})}),(0,s.jsx)(h.E,{className:"h-6 w-32"})]}),(0,s.jsx)(T,{})]})}},10233:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]])},12543:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},17607:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},17759:(e,a,t)=>{"use strict";t.d(a,{C5:()=>y,MJ:()=>g,Rr:()=>x,eI:()=>p,lR:()=>f,lV:()=>c,zB:()=>u});var s=t(95155),r=t(12115),l=t(99708),i=t(62177),n=t(59434),d=t(85057);let c=i.Op,o=r.createContext({}),u=e=>{let{...a}=e;return(0,s.jsx)(o.Provider,{value:{name:a.name},children:(0,s.jsx)(i.xI,{...a})})},m=()=>{let e=r.useContext(o),a=r.useContext(h),{getFieldState:t,formState:s}=(0,i.xW)(),l=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=a;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},h=r.createContext({}),p=r.forwardRef((e,a)=>{let{className:t,...l}=e,i=r.useId();return(0,s.jsx)(h.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:a,className:(0,n.cn)("space-y-2",t),...l})})});p.displayName="FormItem";let f=r.forwardRef((e,a)=>{let{className:t,...r}=e,{error:l,formItemId:i}=m();return(0,s.jsx)(d.J,{ref:a,className:(0,n.cn)(l&&"text-destructive",t),htmlFor:i,...r})});f.displayName="FormLabel";let g=r.forwardRef((e,a)=>{let{...t}=e,{error:r,formItemId:i,formDescriptionId:n,formMessageId:d}=m();return(0,s.jsx)(l.DX,{ref:a,id:i,"aria-describedby":r?"".concat(n," ").concat(d):"".concat(n),"aria-invalid":!!r,...t})});g.displayName="FormControl";let x=r.forwardRef((e,a)=>{let{className:t,...r}=e,{formDescriptionId:l}=m();return(0,s.jsx)("p",{ref:a,id:l,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});x.displayName="FormDescription";let y=r.forwardRef((e,a)=>{var t;let{className:r,children:l,...i}=e,{error:d,formMessageId:c}=m(),o=d?String(null!=(t=null==d?void 0:d.message)?t:""):l;return o?(0,s.jsx)("p",{ref:a,id:c,className:(0,n.cn)("text-sm font-medium text-destructive",r),...i,children:o}):null});y.displayName="FormMessage"},18271:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},22436:(e,a,t)=>{"use strict";var s=t(12115),r="function"==typeof Object.is?Object.is:function(e,a){return e===a&&(0!==e||1/e==1/a)||e!=e&&a!=a},l=s.useState,i=s.useEffect,n=s.useLayoutEffect,d=s.useDebugValue;function c(e){var a=e.getSnapshot;e=e.value;try{var t=a();return!r(e,t)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,a){return a()}:function(e,a){var t=a(),s=l({inst:{value:t,getSnapshot:a}}),r=s[0].inst,o=s[1];return n(function(){r.value=t,r.getSnapshot=a,c(r)&&o({inst:r})},[e,t,a]),i(function(){return c(r)&&o({inst:r}),e(function(){c(r)&&o({inst:r})})},[e]),d(t),t};a.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:o},26126:(e,a,t)=>{"use strict";t.d(a,{E:()=>n});var s=t(95155);t(12115);var r=t(74466),l=t(59434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(i({variant:t}),a),...r})}},31896:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]])},44159:(e,a,t)=>{"use strict";t.d(a,{$3:()=>l,Ay:()=>f,EU:()=>u,L2:()=>h,UU:()=>n,_u:()=>m,iB:()=>c,nB:()=>d,nv:()=>p,yU:()=>i});var s=t(66439),r=t(23464);let l=(0,s.zD)("clients/fetchClients",async(e,a)=>{let{getState:t,rejectWithValue:s}=a,{auth:{token:l},clients:i}=t();if(!l)return s("No authentication token found.");try{let e=new URLSearchParams({page:i.page.toString(),limit:i.limit.toString()});return i.searchTerm&&e.append("search",i.searchTerm),"all"!==i.statusFilter&&e.append("status",i.statusFilter),(await r.A.get("/api/organizations?".concat(e.toString()),{headers:{Authorization:"Bearer ".concat(l)}})).data}catch(e){var n,d;return s((null==(d=e.response)||null==(n=d.data)?void 0:n.message)||"Failed to fetch clients.")}}),i=(0,s.zD)("clients/fetchClientById",async(e,a)=>{let{getState:t,rejectWithValue:s}=a,{auth:{token:l}}=t();if(!l)return s("Not authenticated");try{return(await r.A.get("/api/organizations/".concat(e),{headers:{Authorization:"Bearer ".concat(l)}})).data}catch(e){var i,n;return s((null==(n=e.response)||null==(i=n.data)?void 0:i.message)||"Failed to fetch client.")}}),n=(0,s.zD)("clients/createClient",async(e,a)=>{let{getState:t,rejectWithValue:s}=a,{auth:{token:l}}=t();if(!l)return s("Not authenticated");try{return(await r.A.post("/api/organizations",e,{headers:{Authorization:"Bearer ".concat(l)}})).data}catch(e){var i,n;return s((null==(n=e.response)||null==(i=n.data)?void 0:i.message)||"Failed to create client.")}}),d=(0,s.zD)("clients/updateClientStatus",async(e,a)=>{let{clientId:t,status:s}=e,{getState:l,rejectWithValue:i}=a,{auth:{token:n}}=l();if(!n)return i("Not authenticated");try{return(await r.A.patch("/api/organizations/".concat(t,"/status"),{status:s},{headers:{Authorization:"Bearer ".concat(n)}})).data}catch(e){var d,c;return i((null==(c=e.response)||null==(d=c.data)?void 0:d.message)||"Failed to update client status.")}}),c=(0,s.zD)("clients/updateClientSettings",async(e,a)=>{let{clientId:t,settings:s}=e,{getState:l,rejectWithValue:i}=a,{auth:{token:n}}=l();if(!n)return i("Not authenticated");try{return(await r.A.patch("/api/organizations/".concat(t,"/settings"),{settings:s},{headers:{Authorization:"Bearer ".concat(n)}})).data}catch(e){var d,c;return i((null==(c=e.response)||null==(d=c.data)?void 0:d.message)||"Failed to update settings.")}}),o=(0,s.Z0)({name:"clients",initialState:{clients:[],selectedClient:null,totalClients:0,page:1,limit:10,searchTerm:"",statusFilter:"all",isLoading:!0,isUpdatingSettings:!1,updatingClientId:null,error:null},reducers:{setClientsPage:(e,a)=>{e.page=a.payload},setClientsLimit:(e,a)=>{e.limit=a.payload,e.page=1},setClientsSearchTerm:(e,a)=>{e.searchTerm=a.payload,e.page=1},setClientsStatusFilter:(e,a)=>{e.statusFilter=a.payload,e.page=1}},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,a)=>{e.isLoading=!1,e.clients=a.payload.organizations,e.totalClients=a.payload.totalOrganizations}).addCase(l.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}).addCase(i.pending,e=>{e.isLoading=!0,e.selectedClient=null,e.error=null}).addCase(i.fulfilled,(e,a)=>{e.isLoading=!1,e.selectedClient=a.payload}).addCase(i.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}).addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,e=>{e.isLoading=!1}).addCase(n.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}).addCase(d.pending,(e,a)=>{e.updatingClientId=a.meta.arg.clientId}).addCase(d.fulfilled,(e,a)=>{let t=e.clients.findIndex(e=>e._id===a.payload._id);-1!==t&&(e.clients[t].status=a.payload.status),e.updatingClientId=null}).addCase(d.rejected,(e,a)=>{e.error=a.payload,e.updatingClientId=null}).addCase(c.pending,e=>{e.isUpdatingSettings=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{e.isUpdatingSettings=!1,e.selectedClient&&e.selectedClient._id===a.payload._id&&(e.selectedClient=a.payload);let t=e.clients.findIndex(e=>e._id===a.payload._id);-1!==t&&(e.clients[t]=a.payload)}).addCase(c.rejected,(e,a)=>{e.isUpdatingSettings=!1,e.error=a.payload})}}),{setClientsPage:u,setClientsLimit:m,setClientsSearchTerm:h,setClientsStatusFilter:p}=o.actions,f=o.reducer},49033:(e,a,t)=>{"use strict";e.exports=t(22436)},50286:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},51920:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},52179:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>y,Hd:()=>g,Ir:()=>h,NM:()=>f,V5:()=>x,aF:()=>p,a_:()=>d,fV:()=>n,gj:()=>c,hU:()=>l,nu:()=>o,pU:()=>u,rw:()=>i});var s=t(66439),r=t(23464);let l=(0,s.zD)("users/fetchUsers",async(e,a)=>{let{getState:t,rejectWithValue:s}=a,{auth:{token:l},users:i}=t();if(!l)return s("No authentication token found.");try{let e=new URLSearchParams({page:i.page.toString(),limit:i.limit.toString()});return i.searchTerm&&e.append("search",i.searchTerm),"all"!==i.roleFilter&&e.append("role",i.roleFilter),"all"!==i.statusFilter&&e.append("status",i.statusFilter),(await r.A.get("/api/users?".concat(e.toString()),{headers:{Authorization:"Bearer ".concat(l)}})).data}catch(e){var n,d;return s((null==(d=e.response)||null==(n=d.data)?void 0:n.message)||"Failed to fetch users.")}}),i=(0,s.zD)("users/fetchUsersByOrganization",async(e,a)=>{let{getState:t,rejectWithValue:s}=a,{auth:{token:l}}=t();if(!l)return s("Not authenticated");try{return(await r.A.get("/api/users?organizationId=".concat(e),{headers:{Authorization:"Bearer ".concat(l)}})).data.users}catch(e){var i,n;return s((null==(n=e.response)||null==(i=n.data)?void 0:i.message)||"Failed to fetch users.")}}),n=(0,s.zD)("users/fetchOrganizations",async(e,a)=>{let{getState:t,rejectWithValue:s}=a,{auth:{token:l}}=t();if(!l)return s("Not authenticated");try{return(await r.A.get("/api/organizations",{headers:{Authorization:"Bearer ".concat(l)}})).data.organizations}catch(e){var i,n;return s((null==(n=e.response)||null==(i=n.data)?void 0:i.message)||"Failed to fetch organizations.")}}),d=(0,s.zD)("users/fetchTeamsForOrg",async(e,a)=>{let{getState:t,rejectWithValue:s}=a,{auth:{token:l}}=t();if(!l)return s("Not authenticated");try{return(await r.A.get("/api/organizations/".concat(e,"/teams"),{headers:{Authorization:"Bearer ".concat(l)}})).data}catch(e){var i,n;return s((null==(n=e.response)||null==(i=n.data)?void 0:i.message)||"Failed to fetch teams.")}}),c=(0,s.zD)("users/createTeam",async(e,a)=>{let{organizationId:t,name:s}=e,{getState:l,rejectWithValue:i}=a,{auth:{token:n}}=l();if(!n)return i("Not authenticated");try{return(await r.A.post("/api/organizations/".concat(t,"/teams"),{name:s},{headers:{Authorization:"Bearer ".concat(n)}})).data}catch(e){var d,c;return i((null==(c=e.response)||null==(d=c.data)?void 0:d.message)||"Failed to create team.")}}),o=(0,s.zD)("users/addUser",async(e,a)=>{let{getState:t,rejectWithValue:s}=a,{auth:{token:l}}=t();if(!l)return s("Not authenticated");try{return(await r.A.post("/api/users",e,{headers:{Authorization:"Bearer ".concat(l)}})).data}catch(e){var i,n;return s((null==(n=e.response)||null==(i=n.data)?void 0:i.message)||"Failed to add user.")}}),u=(0,s.zD)("users/updateUserStatus",async(e,a)=>{let{userId:t,status:s}=e,{getState:l,rejectWithValue:i}=a,{auth:{token:n}}=l();if(!n)return i("Not authenticated");try{return(await r.A.patch("/api/users/".concat(t,"/status"),{status:s},{headers:{Authorization:"Bearer ".concat(n)}})).data}catch(e){var d,c;return i((null==(c=e.response)||null==(d=c.data)?void 0:d.message)||"Failed to update user status.")}}),m=(0,s.Z0)({name:"users",initialState:{users:[],totalUsers:0,page:1,limit:10,searchTerm:"",roleFilter:"all",statusFilter:"all",isLoading:!0,updatingUserId:null,error:null,organizations:[],teams:[],roles:[],status:"idle"},reducers:{setPage:(e,a)=>{e.page=a.payload},setLimit:(e,a)=>{e.limit=a.payload,e.page=1},setSearchTerm:(e,a)=>{e.searchTerm=a.payload,e.page=1},setRoleFilter:(e,a)=>{e.roleFilter=a.payload,e.page=1},setStatusFilter:(e,a)=>{e.statusFilter=a.payload,e.page=1}},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,a)=>{e.isLoading=!1,e.users=a.payload.users,e.totalUsers=a.payload.totalUsers}).addCase(l.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}).addCase(i.pending,e=>{e.isLoading=!0,e.users=[]}).addCase(i.fulfilled,(e,a)=>{e.isLoading=!1,e.users=a.payload}).addCase(i.rejected,(e,a)=>{e.isLoading=!1,e.error=a.payload}).addCase(n.pending,e=>{e.status="loading"}).addCase(n.fulfilled,(e,a)=>{e.organizations=a.payload,e.status="succeeded"}).addCase(n.rejected,e=>{e.status="failed"}).addCase(d.fulfilled,(e,a)=>{e.teams=a.payload}).addCase(c.fulfilled,(e,a)=>{e.teams.push(a.payload)}).addCase(o.pending,e=>{e.status="loading"}).addCase(o.fulfilled,e=>{e.status="succeeded"}).addCase(o.rejected,(e,a)=>{e.status="failed",e.error=a.payload}).addCase(u.pending,(e,a)=>{e.updatingUserId=a.meta.arg.userId}).addCase(u.fulfilled,(e,a)=>{let t=e.users.findIndex(e=>e._id===a.payload._id);-1!==t&&(e.users[t].status=a.payload.status),e.updatingUserId=null}).addCase(u.rejected,(e,a)=>{e.error=a.payload,e.updatingUserId=null}).addCase("settings/fetchRoles/fulfilled",(e,a)=>{e.roles=a.payload.map(e=>{let{_id:a,name:t,level:s}=e;return{_id:a,name:t,level:s}})})}}),{setPage:h,setLimit:p,setSearchTerm:f,setRoleFilter:g,setStatusFilter:x}=m.actions,y=m.reducer},54011:(e,a,t)=>{"use strict";t.d(a,{H4:()=>A,_V:()=>C,bL:()=>w});var s=t(12115),r=t(46081),l=t(39033),i=t(52712),n=t(63655),d=t(49033);function c(){return()=>{}}var o=t(95155),u="Avatar",[m,h]=(0,r.A)(u),[p,f]=m(u),g=s.forwardRef((e,a)=>{let{__scopeAvatar:t,...r}=e,[l,i]=s.useState("idle");return(0,o.jsx)(p,{scope:t,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,o.jsx)(n.sG.span,{...r,ref:a})})});g.displayName=u;var x="AvatarImage",y=s.forwardRef((e,a)=>{let{__scopeAvatar:t,src:r,onLoadingStatusChange:u=()=>{},...m}=e,h=f(x,t),p=function(e,a){let{referrerPolicy:t,crossOrigin:r}=a,l=(0,d.useSyncExternalStore)(c,()=>!0,()=>!1),n=s.useRef(null),o=l?(n.current||(n.current=new window.Image),n.current):null,[u,m]=s.useState(()=>N(o,e));return(0,i.N)(()=>{m(N(o,e))},[o,e]),(0,i.N)(()=>{let e=e=>()=>{m(e)};if(!o)return;let a=e("loaded"),s=e("error");return o.addEventListener("load",a),o.addEventListener("error",s),t&&(o.referrerPolicy=t),"string"==typeof r&&(o.crossOrigin=r),()=>{o.removeEventListener("load",a),o.removeEventListener("error",s)}},[o,r,t]),u}(r,m),g=(0,l.c)(e=>{u(e),h.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==p&&g(p)},[p,g]),"loaded"===p?(0,o.jsx)(n.sG.img,{...m,ref:a,src:r}):null});y.displayName=x;var j="AvatarFallback",v=s.forwardRef((e,a)=>{let{__scopeAvatar:t,delayMs:r,...l}=e,i=f(j,t),[d,c]=s.useState(void 0===r);return s.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(e)}},[r]),d&&"loaded"!==i.imageLoadingStatus?(0,o.jsx)(n.sG.span,{...l,ref:a}):null});function N(e,a){return e?a?(e.src!==a&&(e.src=a),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}v.displayName=j;var w=g,C=y,A=v},59119:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},62523:(e,a,t)=>{"use strict";t.d(a,{p:()=>i});var s=t(95155),r=t(12115),l=t(59434);let i=r.forwardRef((e,a)=>{let{className:t,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...i})});i.displayName="Input"},73158:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(40157).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},91394:(e,a,t)=>{"use strict";t.d(a,{BK:()=>d,eu:()=>n,q5:()=>c});var s=t(95155),r=t(12115),l=t(54011),i=t(59434);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.bL,{ref:a,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});n.displayName=l.bL.displayName;let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l._V,{ref:a,className:(0,i.cn)("aspect-square h-full w-full",t),...r})});d.displayName=l._V.displayName;let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.H4,{ref:a,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});c.displayName=l.H4.displayName},96220:(e,a,t)=>{Promise.resolve().then(t.bind(t,8793))}},e=>{var a=a=>e(e.s=a);e.O(0,[4277,6663,4754,6439,4540,2688,8034,7922,4602,6874,2065,7028,8441,1684,7358],()=>a(96220)),_N_E=e.O()}]);