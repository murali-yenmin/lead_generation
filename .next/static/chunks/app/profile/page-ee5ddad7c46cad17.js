(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{4607:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},16923:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},17607:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},22436:(e,t,r)=>{"use strict";var a=r(12115),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,l=a.useEffect,i=a.useLayoutEffect,o=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=n({inst:{value:r,getSnapshot:t}}),s=a[0].inst,c=a[1];return i(function(){s.value=r,s.getSnapshot=t,d(s)&&c({inst:s})},[e,r,t]),l(function(){return d(s)&&c({inst:s}),e(function(){d(s)&&c({inst:s})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>o});var a=r(95155),s=r(12115),n=r(99708),l=r(74466),i=r(59434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:r})),ref:t,...c})});d.displayName="Button"},49033:(e,t,r)=>{"use strict";e.exports=r(22436)},50172:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},54011:(e,t,r)=>{"use strict";r.d(t,{H4:()=>k,_V:()=>N,bL:()=>b});var a=r(12115),s=r(46081),n=r(39033),l=r(52712),i=r(63655),o=r(49033);function d(){return()=>{}}var c=r(95155),u="Avatar",[f,m]=(0,s.A)(u),[p,h]=f(u),x=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...s}=e,[n,l]=a.useState("idle");return(0,c.jsx)(p,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,c.jsx)(i.sG.span,{...s,ref:t})})});x.displayName=u;var g="AvatarImage",y=a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:s,onLoadingStatusChange:u=()=>{},...f}=e,m=h(g,r),p=function(e,t){let{referrerPolicy:r,crossOrigin:s}=t,n=(0,o.useSyncExternalStore)(d,()=>!0,()=>!1),i=a.useRef(null),c=n?(i.current||(i.current=new window.Image),i.current):null,[u,f]=a.useState(()=>w(c,e));return(0,l.N)(()=>{f(w(c,e))},[c,e]),(0,l.N)(()=>{let e=e=>()=>{f(e)};if(!c)return;let t=e("loaded"),a=e("error");return c.addEventListener("load",t),c.addEventListener("error",a),r&&(c.referrerPolicy=r),"string"==typeof s&&(c.crossOrigin=s),()=>{c.removeEventListener("load",t),c.removeEventListener("error",a)}},[c,s,r]),u}(s,f),x=(0,n.c)(e=>{u(e),m.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==p&&x(p)},[p,x]),"loaded"===p?(0,c.jsx)(i.sG.img,{...f,ref:t,src:s}):null});y.displayName=g;var v="AvatarFallback",j=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:s,...n}=e,l=h(v,r),[o,d]=a.useState(void 0===s);return a.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==l.imageLoadingStatus?(0,c.jsx)(i.sG.span,{...n,ref:t}):null});function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=v;var b=x,N=y,k=j},56894:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(95155),s=r(12115),n=r(30285),l=r(66695),i=r(17759),o=r(62523),d=r(87481),c=r(90221),u=r(40157);let f=(0,u.A)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),m=(0,u.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var p=r(4607),h=r(17607),x=r(62177),g=r(70927),y=r(91394),v=r(62154),j=r(68856),w=r(34540),b=r(89519);let N=g.Ik({name:g.Yj().min(2,{message:"Name must be at least 2 characters."}),email:g.Yj().email(),image:g.YO(g.Ik({name:g.Yj(),url:g.Yj()})).nullable(),currentPassword:g.Yj().optional(),newPassword:g.Yj().optional()}).refine(e=>!e.newPassword||!!e.currentPassword,{message:"Please enter your current password to set a new one.",path:["currentPassword"]});function k(){let{toast:e}=(0,d.dj)(),[t,r]=(0,s.useState)(!1),[u,g]=(0,s.useState)(!1),k=(0,w.wA)(),{user:S,isLoading:A}=(0,w.d4)(e=>e.auth),E=(0,x.mN)({resolver:(0,c.u)(N),defaultValues:{name:"",email:"",image:null,currentPassword:"",newPassword:""}});(0,s.useEffect)(()=>{if(S){var e;E.reset({name:S.name,email:S.email,image:null!=(e=S.image)?e:null,currentPassword:"",newPassword:""})}},[S,E]);let I=async t=>{let r=await k((0,b.eg)(t));b.eg.fulfilled.match(r)?(e({variant:"success",title:"Profile Updated",description:"Your profile information has been successfully updated."}),E.reset({...t,currentPassword:"",newPassword:""})):e({variant:"destructive",title:"Update Failed",description:r.payload||"An unknown error occurred."})},P=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase(),T=E.watch("image");return S?(0,a.jsx)("main",{className:"flex flex-1 flex-col gap-6 p-4 sm:px-6 md:gap-8 md:p-8",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2 text-2xl font-headline",children:[(0,a.jsx)(f,{className:"size-8"}),"User Profile"]}),(0,a.jsx)(l.BT,{children:"Manage your account settings and personal information."})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)(i.lV,{...E,children:(0,a.jsxs)("form",{onSubmit:E.handleSubmit(I),className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-8 md:flex-row md:items-start",children:[(0,a.jsx)(i.zB,{control:E.control,name:"image",render:e=>{let{field:t}=e;return(0,a.jsxs)(i.eI,{className:"w-full md:w-48 flex flex-col items-center gap-2",children:[(0,a.jsx)(i.lR,{children:"Profile Picture"}),(0,a.jsx)(i.MJ,{children:(0,a.jsxs)("div",{className:"relative group w-32 h-32",children:[(0,a.jsxs)(y.eu,{className:"h-32 w-32",children:[T&&T[0]&&(0,a.jsx)(y.BK,{src:T[0].url,alt:E.watch("name")}),(0,a.jsx)(y.q5,{className:"text-4xl",children:P(E.watch("name"))})]}),(0,a.jsx)(v.B,{value:t.value,onFilesChange:t.onChange,className:"absolute inset-0",contentClassName:"rounded-full",hidePreview:!0,children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer rounded-full",children:(0,a.jsx)(m,{className:"w-8 h-8"})})})]})}),(0,a.jsx)(i.C5,{})]})}}),(0,a.jsxs)("div",{className:"grid flex-1 gap-6 w-full",children:[(0,a.jsx)(i.zB,{control:E.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(i.eI,{children:[(0,a.jsx)(i.lR,{children:"Full Name"}),(0,a.jsx)(i.MJ,{children:(0,a.jsx)(o.p,{placeholder:"John Doe",...t})}),(0,a.jsx)(i.C5,{})]})}}),(0,a.jsx)(i.zB,{control:E.control,name:"email",render:e=>{let{field:t}=e;return(0,a.jsxs)(i.eI,{children:[(0,a.jsx)(i.lR,{children:"Email Address"}),(0,a.jsx)(i.MJ,{children:(0,a.jsx)(o.p,{type:"email",placeholder:"john.doe@example.com",...t})}),(0,a.jsx)(i.C5,{})]})}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Change Password"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Leave these fields blank if you do not want to change your password."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsx)(i.zB,{control:E.control,name:"currentPassword",render:e=>{let{field:s}=e;return(0,a.jsxs)(i.eI,{children:[(0,a.jsx)(i.lR,{children:"Current Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.MJ,{children:(0,a.jsx)(o.p,{type:t?"text":"password",placeholder:"••••••••",...s})}),(0,a.jsxs)(n.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground",onClick:()=>r(e=>!e),children:[t?(0,a.jsx)(p.A,{}):(0,a.jsx)(h.A,{}),(0,a.jsx)("span",{className:"sr-only",children:t?"Hide password":"Show password"})]})]}),(0,a.jsx)(i.C5,{})]})}}),(0,a.jsx)(i.zB,{control:E.control,name:"newPassword",render:e=>{let{field:t}=e;return(0,a.jsxs)(i.eI,{children:[(0,a.jsx)(i.lR,{children:"New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.MJ,{children:(0,a.jsx)(o.p,{type:u?"text":"password",placeholder:"••••••••",...t})}),(0,a.jsxs)(n.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground",onClick:()=>g(e=>!e),children:[u?(0,a.jsx)(p.A,{}):(0,a.jsx)(h.A,{}),(0,a.jsx)("span",{className:"sr-only",children:u?"Hide password":"Show password"})]})]}),(0,a.jsx)(i.C5,{})]})}})]}),(0,a.jsx)(n.$,{type:"submit",disabled:A,children:A?"Updating...":"Update Profile"})]})})})]})}):(0,a.jsx)("main",{className:"flex flex-1 flex-col gap-6 p-4 sm:px-6 md:gap-8 md:p-8",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(j.E,{className:"h-8 w-48"}),(0,a.jsx)(j.E,{className:"h-4 w-64"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-8 md:flex-row md:items-start",children:[(0,a.jsx)(j.E,{className:"h-32 w-32 rounded-full"}),(0,a.jsxs)("div",{className:"grid flex-1 gap-6 w-full",children:[(0,a.jsx)(j.E,{className:"h-10 w-full"}),(0,a.jsx)(j.E,{className:"h-10 w-full"})]})]}),(0,a.jsx)(j.E,{className:"h-10 w-48"})]})]})})}},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(52596),s=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(95155),s=r(12115),n=r(59434);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},71040:(e,t,r)=>{Promise.resolve().then(r.bind(r,56894))},77223:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},87481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>f});var a=r(12115);let s=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=i(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},89519:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,DY:()=>l,Lx:()=>n,X6:()=>c,eg:()=>i,y4:()=>d});var a=r(66439),s=r(23464);let n=(0,a.zD)("auth/loginUser",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await s.A.post("/api/auth/login",e)).data}catch(e){var a,n;return r((null==(n=e.response)||null==(a=n.data)?void 0:a.message)||"Login failed")}}),l=(0,a.zD)("auth/registerUser",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await s.A.post("/api/auth/register",e)).data}catch(e){var a,n;return r((null==(n=e.response)||null==(a=n.data)?void 0:a.message)||"Registration failed")}}),i=(0,a.zD)("auth/updateUserProfile",async(e,t)=>{let{rejectWithValue:r,getState:a}=t;try{return e}catch(e){var s,n;return r((null==(n=e.response)||null==(s=n.data)?void 0:s.message)||"Profile update failed")}}),o=(0,a.Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,isLoading:!0,error:null},reducers:{logoutUser:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("authToken"),localStorage.removeItem("user")},checkInitialAuth:e=>{{let t=localStorage.getItem("authToken"),r=localStorage.getItem("user"),a=null;try{a=r?JSON.parse(r):null}catch(e){a=null,localStorage.removeItem("user"),localStorage.removeItem("authToken")}e.token=t,e.user=a,e.isAuthenticated=!!t&&!!a,e.isLoading=!1}}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token,localStorage.setItem("authToken",t.payload.token),localStorage.setItem("user",JSON.stringify(t.payload.user))}).addCase(n.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,e=>{e.isLoading=!1}).addCase(l.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(i.pending,e=>{}).addCase(i.fulfilled,(e,t)=>{if(e.user){let r={...e.user,...t.payload};e.user=r,localStorage.setItem("user",JSON.stringify(r))}}).addCase(i.rejected,(e,t)=>{console.error("Profile update failed:",t.payload)})}}),{logoutUser:d,checkInitialAuth:c}=o.actions,u=o.reducer},91394:(e,t,r)=>{"use strict";r.d(t,{BK:()=>o,eu:()=>i,q5:()=>d});var a=r(95155),s=r(12115),n=r(54011),l=r(59434);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});i.displayName=n.bL.displayName;let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...s})});o.displayName=n._V.displayName;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});d.displayName=n.H4.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,6663,4754,6439,4540,2688,4443,1235,9330,8441,1684,7358],()=>t(71040)),_N_E=e.O()}]);